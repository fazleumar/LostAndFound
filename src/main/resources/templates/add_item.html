<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>Reported Items List</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <link rel="stylesheet" href="/app.css">
  <script type="module" src="/header.js"></script>
</head>
<body>
<login-header></login-header>

<script type="text/javascript">
  $(document).ready(function () {
      $('product_image').change(function () {
        showImageThumbnail(this)
      });
  });

  function showImageThumbnail(product_image) {
    file = product_image.files[0];
    reader = new FileReader();

    reader.onload = function (e) {
      $('#thumbnail').attr('src', e.target.result);
    };

    reader.readAsDataURL(file);
  }

</script>

<div class="container">
  <div class="row">
    <div class="col-lg-6 container justify-content-center card">
      <h1 class="text-center">New item</h1>
      <div class="card-body">
        <form th:action = "@{/items}" th:object = "${items}" method="POST" enctype="multipart/form-data">

          <div class="form-group">
            <label>Report Type</label>
            <input
                    type="text"
                    name="report_type"
                    th:field="*{report_type}"
                    class="form-control"
                    placeholder="Lost/Found"/>
          </div>

          <div class="form-group">
            <label>Title</label>
            <input
                    type="text"
                    name="title"
                    th:field="*{title}"
                    class="form-control"
                    placeholder="i.e. iPhone 8"/>
          </div>

          <div class="form-group">
            <label>Description</label>
            <input
                    type="text"
                    name="description"
                    th:field="*{description}"
                    class="form-control"
                    placeholder="Color, condition, case etc." />
          </div>

          <div class="form-group">
            <label>Reported by</label>
            <input
                    type="text"
                    name="reported_by"
                    th:field="*{reported_by}"
                    class="form-control"
                    placeholder="Username"/>
          </div>

<!--          <div id="googleMap" style="width:100%;height:400px;"></div>-->
<!--          <script>-->
<!--            function myMap() {-->
<!--              var mapProp= {-->
<!--                center:new google.maps.LatLng(51.508742,-0.120850),-->
<!--                zoom:5,-->
<!--              };-->
<!--              var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);-->
<!--              google.maps.event.addListener(map, 'click', function(event) {-->
<!--                var lat = latLng.lat();-->
<!--                var lng = latLng.lng();-->
<!--                [[${latitude}]] = lat;-->
<!--                [[${longitude}]] = lng;-->
<!--              });-->
<!--            }-->
<!--          </script>-->
<!--          <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBu-916DdpKAjTmJNIgngS6HL_kDIKU0aU&callback=myMap"></script>-->

          <div class="form-group">
            <label>Latitude</label>
            <input
                    type="text"
                    name="latitude"
                    th:field="*{latitude}"
                    class="form-control"
                    placeholder="Latitude" />
          </div>

          <div class="form-group">
            <label>Longitude</label>
            <input
                    type="text"
                    name="longitude"
                    th:field="*{longitude}"
                    class="form-control"
                    placeholder="Longitude" />
          </div>

          <div class="form-group">
            <label>Product Image</label>
            <input type="file" name="product_image" accept="image/png, image/jpeg"/>
<!--            <img id="thumbnail" alt="Uploaded image"/>-->
          </div>
          <div class="box-body">
            <button type="submit" class="btn btn-success mt-2">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!--<script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAeKM0nTgSju1eAm-edkoLD9TwDYvc0auQ&callback=initMap"></script>-->
<!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&v=weekly" defer></script>-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</body>
</html>